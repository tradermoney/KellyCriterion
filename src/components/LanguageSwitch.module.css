/* LanguageSwitch.module.css */
.languageSwitch {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(226, 232, 240, 0.8);
  border-radius: 12px;
  transition: all 0.2s ease;
  cursor: pointer;
  user-select: none;
  min-width: 120px;
}

.languageSwitch:hover {
  background: rgba(248, 250, 252, 0.95);
  border-color: #cbd5e1;
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.languageSwitch:active {
  transform: translateY(0);
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
}

.languageIcon {
  font-size: 16px;
  transition: transform 0.2s ease;
}

.languageSwitch:hover .languageIcon {
  opacity: 0.8;
}

.languageLabel {
  font-size: 0.875rem;
  font-weight: 500;
  color: #374151;
  transition: color 0.2s ease;
  flex: 1;
  text-align: center;
}

.languageSwitch:hover .languageLabel {
  color: #1f2937;
}

.dropdownArrow {
  font-size: 12px;
  color: #6b7280;
  transition: all 0.2s ease;
}

.languageSwitch:hover .dropdownArrow {
  color: #374151;
  transform: rotate(180deg);
}

.languageDropdown {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  margin-top: 4px;
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-8px);
  transition: all 0.2s ease;
}

.languageDropdown.open {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.languageOption {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  border-radius: 8px;
  margin: 4px;
}

.languageOption:hover {
  background: rgba(59, 130, 246, 0.1);
  color: #3b82f6;
}

.languageOption.active {
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
  color: white;
}

.languageOption.active:hover {
  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
}

.optionIcon {
  font-size: 14px;
}

.optionLabel {
  font-size: 0.875rem;
  font-weight: 500;
  flex: 1;
}

.optionCode {
  font-size: 0.75rem;
  color: #6b7280;
  font-weight: 400;
}

.languageOption.active .optionCode {
  color: rgba(255, 255, 255, 0.8);
}

.switchContainer {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  transition: all 0.2s ease;
}

.switchContainer:hover {
  background: rgba(248, 250, 252, 0.95);
  border-color: #cbd5e1;
}

.switchTitle {
  font-size: 0.875rem;
  font-weight: 500;
  color: #374151;
  flex: 1;
}

.switchDescription {
  font-size: 0.75rem;
  color: #6b7280;
  margin-top: 2px;
}

.compactSwitch {
  padding: 6px 8px;
  min-width: 80px;
}

.compactSwitch .languageLabel {
  font-size: 0.75rem;
}

.compactSwitch .dropdownArrow {
  font-size: 10px;
}

.flagIcon {
  width: 16px;
  height: 12px;
  border-radius: 2px;
  background-size: cover;
  background-position: center;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.flagIcon.zh {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3 2"><rect width="3" height="2" fill="%23de2910"/><g fill="%23ffde00"><path d="M0 0l.3.2L0 .4z"/><path d="M.6 0l-.1.1.1.1-.1-.1z"/><path d="M.8.2l-.1.1.1.1-.1-.1z"/><path d="M.8.6l-.1-.1.1-.1-.1.1z"/><path d="M.6.8l-.1-.1.1-.1-.1.1z"/></g></svg>');
}

.flagIcon.en {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30"><rect width="60" height="30" fill="%23012169"/><g stroke="%23fff" stroke-width="6"><path d="m0 0 60 30m0-30L0 30"/></g><g stroke="%23C8102E" stroke-width="4"><path d="m0 0 60 30m0-30L0 30"/></g><path stroke="%23fff" stroke-width="10" d="M30 0v30M0 15h60"/><path stroke="%23C8102E" stroke-width="6" d="M30 0v30M0 15h60"/></svg>');
}

.animatedSwitch {
  overflow: hidden;
}

.animatedSwitch::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: left 0.5s ease;
}

.animatedSwitch:hover::before {
  left: 100%;
}

.languageGroup {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px;
  background: rgba(249, 250, 251, 0.8);
  border-radius: 12px;
  border: 1px solid #e2e8f0;
}

.languageGroup .switchTitle {
  font-size: 1rem;
  font-weight: 600;
}

.loadingSpinner {
  width: 14px;
  height: 14px;
  border: 2px solid #e2e8f0;
  border-top: 2px solid #3b82f6;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Dark theme support */
[data-theme="dark"] .languageSwitch {
  background: rgba(30, 41, 59, 0.9);
  border-color: rgba(71, 85, 105, 0.8);
}

[data-theme="dark"] .languageSwitch:hover {
  background: rgba(51, 65, 85, 0.95);
  border-color: #64748b;
}

[data-theme="dark"] .languageLabel {
  color: #e2e8f0;
}

[data-theme="dark"] .languageSwitch:hover .languageLabel {
  color: #f1f5f9;
}

[data-theme="dark"] .dropdownArrow {
  color: #94a3b8;
}

[data-theme="dark"] .languageSwitch:hover .dropdownArrow {
  color: #cbd5e1;
}

[data-theme="dark"] .languageDropdown {
  background: #1e293b;
  border-color: #475569;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .languageOption:hover {
  background: rgba(99, 102, 241, 0.2);
  color: #a5b4fc;
}

[data-theme="dark"] .languageOption.active {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  color: white;
}

[data-theme="dark"] .languageOption.active:hover {
  background: linear-gradient(135deg, #d97706 0%, #b45309 100%);
}

[data-theme="dark"] .optionCode {
  color: #94a3b8;
}

[data-theme="dark"] .switchContainer {
  background: rgba(15, 23, 42, 0.6);
  border-color: #475569;
}

[data-theme="dark"] .switchContainer:hover {
  background: rgba(30, 41, 59, 0.8);
  border-color: #64748b;
}

[data-theme="dark"] .switchTitle {
  color: #e2e8f0;
}

[data-theme="dark"] .switchDescription {
  color: #94a3b8;
}

[data-theme="dark"] .languageGroup {
  background: rgba(15, 23, 42, 0.6);
  border-color: #475569;
}

[data-theme="dark"] .animatedSwitch::before {
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
}

[data-theme="dark"] .loadingSpinner {
  border-color: #475569;
  border-top-color: #f59e0b;
}